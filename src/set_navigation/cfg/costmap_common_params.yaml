##AMR形状
max_obstacle_height: 1.3  # 机器人高度assume something like an arm is mounted on top of the robot

# Obstacle Cost Shaping (http://wiki.ros.org/costmap_2d/hydro/inflation)
#robot_radius: 0.4  # distance a circular robot should be clear of the obstacle (kobuki: 0.18)
footprint: [[0.35, 0.28], [0.35, -0.28], [-0.37, -0.28],[-0.37, 0.28]]  # if the robot is not circular


map_type: voxel

voxel_layer:
  enabled:              true
  max_obstacle_height:  1.2
  origin_z:             0.0
  z_resolution:         0.1
  z_voxels:             22
  unknown_threshold:    15
  mark_threshold:       0
  combination_method:   1
  track_unknown_space:  true    #true needed for disabling global path planning through unknown space
  obstacle_range: 2.0          #检测障碍物的最大范围（m)2.5
  raytrace_range: 3.0           #检测自由空间的最大范围（m）6.0在机器人移动过程中，实时清除代价地图上的障碍物的最大范围，更新可自由移动的空间数据。假如设置该值为3米，那么就意味着在3米内的障碍物，本来开始时是有的，但是本次检测却没有了，那么就需要在代价地图上来更新，将旧障碍物的空间标记为可以自由移动的空间。
  publish_voxel_map: true
  observation_sources:  scan #camera #bump   #避障需要关注的传感器数据
  scan:
    sensor_frame: laser_link
    data_type: LaserScan
    topic: scan
    marking: true
    clearing: true
    min_obstacle_height: 0.0     #选择有效障碍物的最低高度  该值与激光雷达相对于base_footprint坐标系的高度z有关  需小于z
    max_obstacle_height: 0.3
  #camera:
  #  data_type: PointCloud2
  #  topic: camera/depth/points
  #  marking: true
  #  clearing: true
  #  min_obstacle_height: 0.0
  #  max_obstacle_height: 2.0
  #bump:
  #  data_type: PointCloud2
  #  topic: mobile_base/sensors/bumper_pointcloud
  #  marking: true
  #  clearing: false
  #  min_obstacle_height: 0.0
  #  max_obstacle_height: 0.15
  # for debugging only, let's you see the entire voxel grid

#cost_scaling_factor and inflation_radius were now moved to the inflation_layer ns
inflation_layer:
  enabled:              true
  cost_scaling_factor:  2.58  # exponential rate at which the obstacle cost drops off (default:10) 衰减因子，越大局部路径的曲线越陡,
  inflation_radius:     0.8  # max. distance from an obstacle at which costs are incurred for planning paths. 该值设置大一些,另外衰减因子设小一些(2.58),可以行走在两障碍物中间

static_layer:
  enabled:              true
  
